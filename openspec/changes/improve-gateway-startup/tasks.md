## 1. 数据库层
- [x] 1.1 设计服务状态表 schema（service_status: id, status, port, pid, started_at, updated_at）
- [x] 1.2 实现服务状态查询方法（getServiceStatus）
- [x] 1.3 实现服务状态更新方法（updateServiceStatus, setServiceStatus）
- [x] 1.4 实现服务状态清理方法（清理已停止的进程记录）

## 2. 服务进程管理
- [x] 2.1 实现服务管理器（ServiceManager 类）
- [x] 2.2 实现启动服务方法（spawn 子进程运行 CLI start 命令）
- [x] 2.3 实现停止服务方法（kill 进程，更新状态）
- [x] 2.4 实现查询服务状态方法（检查进程是否存在，同步数据库状态）
- [x] 2.5 实现端口冲突检测（启动前检查端口是否被占用）
- [x] 2.6 实现进程异常退出监听（监听子进程退出事件，更新状态）
- [x] 2.7 实现单实例防护（防止同时启动多个服务实例）

## 3. 服务管理 API
- [x] 3.1 创建 `/api/service` 路由
- [x] 3.2 实现 GET `/api/service/status` - 查询服务状态
- [x] 3.3 实现 POST `/api/service/start` - 启动服务
- [x] 3.4 实现 POST `/api/service/stop` - 停止服务
- [x] 3.5 实现错误处理和状态码返回
- [x] 3.6 实现请求参数验证（端口、配置等）

## 4. Web UI 修改
- [x] 4.1 修改启动按钮逻辑，调用 `/api/service/start` API
- [x] 4.2 修改停止按钮逻辑，调用 `/api/service/stop` API
- [x] 4.3 实现服务状态轮询（定期调用 `/api/service/status` 同步状态）
- [x] 4.4 修改状态显示逻辑，从 API 获取真实状态而非本地状态
- [x] 4.5 添加加载状态和错误提示（启动中、启动失败等）
- [x] 4.6 实现启动/停止按钮的禁用逻辑（服务运行中禁用启动，已停止禁用停止）

## 5. 错误处理和边界情况
- [x] 5.1 处理端口已被占用的情况
- [x] 5.2 处理服务启动失败的情况
- [x] 5.3 处理服务异常退出的情况（自动更新状态）
- [x] 5.4 处理页面刷新时的状态恢复
- [x] 5.5 处理并发启动请求（防止重复启动）
- [x] 5.6 实现优雅关闭（停止时清理资源）

## 6. 测试和验证
- [ ] 6.1 测试启动服务功能
- [ ] 6.2 测试停止服务功能
- [ ] 6.3 测试状态查询功能
- [ ] 6.4 测试页面刷新后状态恢复
- [ ] 6.5 测试端口冲突处理
- [ ] 6.6 测试服务异常退出处理
- [ ] 6.7 测试并发启动防护
