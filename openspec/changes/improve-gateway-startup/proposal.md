# Change: 完善网关代理服务启动逻辑

## Why
当前 Web UI 中的启动/停止按钮只是改变前端本地状态，并没有实际启动或停止后台服务。用户点击启动后，如果刷新页面，状态会丢失，服务实际上并没有运行。这导致用户体验不佳，无法通过 Web 界面真正管理网关服务的生命周期。

需要实现真正的服务启动/停止功能，使得：
1. 点击启动按钮时，实际启动后台网关服务进程
2. 服务状态持久化，刷新页面后仍能正确显示服务状态
3. 服务在后台持续运行，不依赖于前端页面会话

## What Changes
- **新增服务进程管理 API**：提供启动、停止、查询服务状态的 API 端点
- **新增服务状态持久化**：将服务运行状态存储到数据库，支持跨会话查询
- **修改 Web UI 启动/停止逻辑**：从仅改变前端状态改为调用后端 API 实际控制服务
- **新增服务状态同步机制**：前端定期轮询或使用 WebSocket 同步服务状态
- **新增进程管理功能**：在 Node.js 中启动和管理子进程，确保服务在后台运行

## Impact
- Affected specs: 
  - `web-ui` (修改启动/停止功能，新增状态管理)
  - `api-gateway` (新增服务进程管理能力)
- Affected code: 
  - `src/app/page.tsx` - 修改启动/停止按钮逻辑
  - `src/app/api/gateway/route.ts` - 可能需要调整（如果涉及服务启动）
  - 新增 `src/app/api/service/route.ts` - 服务管理 API
  - 新增 `src/server/service-manager.ts` - 服务进程管理逻辑
  - `src/db/schema.ts` - 可能需要添加服务状态表
  - `src/db/queries.ts` - 添加服务状态查询/更新方法
- 技术考虑：
  - 需要处理进程启动、停止、状态监控
  - 需要考虑端口冲突检测
  - 需要考虑服务异常退出时的处理
  - 需要考虑多实例启动的防护
